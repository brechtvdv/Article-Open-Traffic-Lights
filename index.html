<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <meta charset="utf-8" />
  <title>Open traffic lights: a strategy for publishing and preserving traffic lights data</title>
  <link rel="stylesheet" media="screen" href="styles/screen.css" />
  <link rel="stylesheet" media="print"  href="styles/print.css" />
  
</head>
<body prefix="rdf: http://www.w3.org/1999/02/22-rdf-syntax-ns# rdfs: http://www.w3.org/2000/01/rdf-schema# owl: http://www.w3.org/2002/07/owl# xsd: http://www.w3.org/2001/XMLSchema# dcterms: http://purl.org/dc/terms/ dctypes: http://purl.org/dc/dcmitype/ foaf: http://xmlns.com/foaf/0.1/ v: http://www.w3.org/2006/vcard/ns# pimspace: http://www.w3.org/ns/pim/space# cc: https://creativecommons.org/ns# skos: http://www.w3.org/2004/02/skos/core# prov: http://www.w3.org/ns/prov# qb: http://purl.org/linked-data/cube# schema: http://schema.org/ void: http://rdfs.org/ns/void# rsa: http://www.w3.org/ns/auth/rsa# cert: http://www.w3.org/ns/auth/cert# cal: http://www.w3.org/2002/12/cal/ical# wgs: http://www.w3.org/2003/01/geo/wgs84_pos# org: http://www.w3.org/ns/org# biblio: http://purl.org/net/biblio# bibo: http://purl.org/ontology/bibo/ book: http://purl.org/NET/book/vocab# ov: http://open.vocab.org/terms/ sioc: http://rdfs.org/sioc/ns# doap: http://usefulinc.com/ns/doap# dbr: http://dbpedia.org/resource/ dbp: http://dbpedia.org/property/ sio: http://semanticscience.org/resource/ opmw: http://www.opmw.org/ontology/ deo: http://purl.org/spar/deo/ doco: http://purl.org/spar/doco/ cito: http://purl.org/spar/cito/ fabio: http://purl.org/spar/fabio/ oa: http://www.w3.org/ns/oa# as: https://www.w3.org/ns/activitystreams# ldp: http://www.w3.org/ns/ldp# solid: http://www.w3.org/ns/solid/terms# acl: http://www.w3.org/ns/auth/acl# dio: https://w3id.org/dio# as: https://www.w3.org/ns/activitystreams# oa: http://www.w3.org/ns/oa# ldp: http://www.w3.org/ns/ldp#" typeof="schema:CreativeWork sioc:Post prov:Entity">
  <header>
  <h1 id="open-traffic-lights-a-strategy-for-publishing-and-preserving-traffic-lights-data">Open traffic lights: a strategy for publishing and preserving traffic lights data</h1>

  <ul id="authors">
    <li><a href="https://brechtvdv.github.io/" typeof="http://xmlns.com/foaf/0.1/Person" resource="https://w3id.org/people/brechtvdv/#me">Brecht Van de Vyvere</a></li>
    <li><a href="https://pietercolpaert.be" typeof="http://xmlns.com/foaf/0.1/Person" resource="https://pietercolpaert.be/#me">Pieter Colpaert</a></li>
    <li><a href="https://www.ugent.be/ea/idlab/en/members/erik-mannens.htm" typeof="http://xmlns.com/foaf/0.1/Person" resource="https://data.verborgh.org/people/erik_mannens">Erik Mannens</a></li>
    <li><a href="https://ruben.verborgh.org/" typeof="http://xmlns.com/foaf/0.1/Person" resource="https://ruben.verborgh.org/profile/#me">Ruben Verborgh</a></li>
  </ul>

  <ul id="affiliations">
    <li id="idlab">IDLab,
          Department of Electronics and Information Systems,
          Ghent University – imec</li>
  </ul>

  <section class="context">
    <h2 id="in-reply-to">In reply to</h2>
    <ul>
      <li><a href="https://mepdaw2019.ai.wu.ac.at/index.php/call-for-papers/" rel="as:inReplyTo">MEPDaW 2019 - Workshop at The Web Conference Call for Papers</a></li>
    </ul>
  </section>

</header>

<!-- Hack to make our custom fonts load in print-mode -->
<!-- https://stackoverflow.com/questions/39364259/chrome-print-preview-doesnt-load-media-only-print-font-face -->
<p><span class="printfont1"> </span>
<span class="printfont2"> </span>
<span class="printfont3"> </span>
<span class="printfont4"> </span></p>

<div class="double-column">

<section id="abstract">
    <h2>Abstract</h2>
    <!-- Context      -->
    <p>For better traffic flow and making better policy decisions, the city of Antwerp is connecting traffic lights to the Internet.
<!-- Need         -->
The live “time to green” only tells a part of the story: also the historical values need to be preserved and need to be made accessible to everyone.
<!-- Task         -->
We propose (i) an ontology for describing the topology of an intersection and the signal timing of traffic lights, (ii) a specification to publish these historical and live data with Linked Data Fragments and (iii) a method to preserve the published data in the long-term.
We showcase the applicability of our specification with the opentrafficlights.org project where an end-user can see the live count-down as well as a line chart showing the historic “time to green” of a traffic light.
<!-- Object       --><!-- Findings     -->
We found that publishing traffic lights data as time sorted Linked Data Fragments allow synchronizing and reusing an archive to retrieve historical observations.
Long-term preservation with tape storage becomes feasible when archives shift from byte preservation to knowledge preservation by combining Linked Data Fragments.
<!-- Conclusion and Perspectives -->
<!--Cities can collaborate with archiving institutions for the long-term preservation of timeseries data.--></p>

  </section>


<main>
  <!-- Add sections by specifying their file name, excluding the '.md' suffix. -->
  <section>
      <div class="printonly">This is a print-version of a paper first written for the Web. The Web-version is available at <a href="https://brechtvdv.github.io/Article-Open-Traffic-Lights">https:/​/​brechtvdv.github.io/Article-Open-Traffic-Lights</a>.</div>

      <h2 id="introduction">Introduction</h2>

      <p>Smart cities make evidence-based decisions based on, among others, sensors installed in the city.
As government data and policy decisions world-wide, such as open by default, the freedom of information act or the public sector information directive, this data must be made freely available to everyone.
In the case of sensor data, not only the live values are important, also historical values need to be preserved and made available.
When historic values of smart city datasets become available, everyone can join an evidence-based debate on the city’s future.</p>

      <p>The first traffic light was installed in London in <a href="https://en.wikipedia.org/wiki/Traffic_light">1868</a>.
Today, Traffic Control Systems (TCS) do not differ much from the model installed 1.5 centuries ago, yet we can imagine the potential of making TCSs internet-connected and making traffic light statuses available as Open Data.
Not only self-driving cars may benefit, also cyclists seeking green lights on a rainy day, or a citizen willing to analyze the crossroad’s efficiency near their home.
In the Netherlands, <a href="http://www.nm-magazine.nl/artikelen/talking-traffic-applicaties-voor-de-ivri/">hundreds of these TCSs are already converted</a> through the public-private coorporation <a href="https://www.talking-traffic.com/nl/">Talking Traffic</a>.
A centralized approach using asynchronous messaging is implemented with the Traffic Live Exchange (<a href="https://www.talking-traffic.com/nl/nieuws/stem-op-tlex">TLEX</a>) system which distributes data between TCSs and the end-user in both directions.
The data so far has not been published publicly, but only been made available in partner applications for end-users.
In the city of Antwerp (Belgium), one geographical <a href="https://www.imeccityofthings.be/nl/smart-zone">zone</a> is accommodated with different kinds of sensors to conduct experiments, such as the publication of its traffic lights data that is described in this paper.</p>

      <p>Traffic lights <a href="https://www.etsi.org/deliver/etsi_ts/103300_103399/103301/01.02.01_60/ts_103301v010201p.pdf">data standards</a> are already created by the European Telecommunications Standards Institute (ETSI), yet identifiers are scoped to the intersection, region or country. With Linked Data (<a href="">Section 2</a>), traffic light streams may become interoperable worldwide and may allow for a decentralized data publishing strategy.
This way, any client, whether it is a route planners, a self-driving car or a data analyst, can follow links to and from other datasets while querying.</p>

      <p>Preserved data from among others these TCSs can be used by digital scholars, citizens, journalists, and city officials… to study the city’s digital pulse.
Such Web archives are already used by scholars in, among others, the social sciences and humanities for studying phenomena <span class="references">[<a href="#ref-1">1</a>]</span>.
In this paper, we propose a publishing strategy for data from TCSs, and zoom in on the aspect of preservation.</p>

      <p>The state of the art is described in <a href="#background">Section 2</a>.
In <a href="#preservation">Section 3</a>, we propose a method how these archives also can preserve sensor observations and allow linking from the Open Data publisher to the archive.
Next, an end-user application with code-snippet is demonstrated in <a href="#demonstrator">Section 4</a>.
Finally, we discuss our conclusions in <a href="#conclusion">Section 5</a>.</p>

    </section>

  <section id="sota">
      <h2>Background</h2>

      <h3 id="preservation">Preservation</h3>

      <p>Digital content can be preserved on long-term on tape or on disk storage. In general, tape is used by TV broadcasters or audiovisual archives, because of its <a href="https://searchdatabackup.techtarget.com/news/1507559/Choosing-a-data-archiving-strategy-Disk-archiving-vs-tape-archiving">low pricing</a> for big volumes (&gt;50 terabytes). A tape drive is cost-effective when writing or reading large files, because the position of the tape drive reader does not need to be moved frequently contrary to small files. This deficit is solved by either bundling small files together (e.g. zip, tar) or saving them on disk storage. The latter benefits over tape with faster search and retrievable times and the ability to preserve small files more efficiently.</p>

      <p>To archive a document, this is traditionally done by generating a hash (e.g. <a href="https://en.wikipedia.org/wiki/MD5">MD5</a>) of the document, copying the document together with a metadata file containing the hash (cfr. <a href="https://en.wikipedia.org/wiki/Sidecar_file">sidecar</a>) to the archive system and verify the content by regenerating the hash on the archive.</p>

      <h3 id="resource-description-framework">Resource Description Framework</h3>

      <p>The Resource Description Framework (<a href="https://en.wikipedia.org/wiki/Resource_Description_Framework">RDF</a>) is a graph-based model to describe statements. Every RDF statement corresponds with a triple (subject-predicate-object): the <em>subject</em> is a resource that something is said about. The subject is related to an <em>object</em> through a <em>predicate</em>. For example, ‘the traffic light is lighted green’: ‘the traffic light’ is the subject, ‘green’ is the object and ‘is lighted’ is the predicate that expresses the relation.</p>

      <h3 id="memento-timemaps">Memento TimeMaps</h3>

      <p>Memento <span class="references">[<a href="#ref-2">2</a>]</span> is a HTTP framework that allows a client to retrieve a time specific version (called a Memento) of an Original Web resource that exists or used to exist. One of the techniques to do this is by retrieving a TimeMap that describes a list of Mementos of the Original Web resource with its valid timestamps.</p>

      <h3 id="linked-data-fragments">Linked Data Fragments</h3>

      <p><span property="schema:citation http://purl.org/spar/cito/cites" resource="https://dx.doi.org/10.1016/j.websem.2016.03.003"><a href="http://linkeddatafragments.org/publications/jws2016.pdf">Linked Data Fragments</a></span> <span class="references">[<a href="#ref-3">3</a>]</span> is a conceptual framework that allows to compare Linked Data Web interfaces (a datadump, SPARQL-endpoint, subject page…) by describing how they publish fragments of their RDF datasets. Such a Linked Data Fragment consists of three parts:</p>

      <ul>
        <li>a <strong>selector</strong> defines which parts of the datasets belong to a fragment. For example: only sensor observations that are generated between a certain time interval.</li>
        <li><strong>metadata</strong> about the fragment. For example: the license that is applied.</li>
        <li><strong>controls</strong> help clients to retrieve more relevant data. For example: where a previous page of a paged collection can be found.</li>
      </ul>

      <p>The Linked Data Fragments axis shows a uniform view over the trade-offs (caching, bandwidth etc.) that these Web interfaces bring in respect to the client and server effort. For instance, an interface that offers a datadump requires a higher effort from the client than the server, because the client needs to download the whole dataset before it can solve its task.</p>

      <p><span property="schema:citation http://purl.org/spar/cito/cites" resource="https://dx.doi.org/10.1007/978-3-030-00668-6_15"><a href="https://comunica.github.io/Article-ISWC2018-Resource/">Comunica</a></span> <span class="references">[<a href="#ref-4">4</a>]</span> is a framework to query over the various Web interfaces in the Linked Data Fragments axis.
It interprets the metadata and controls to evaluate a query.
Finding a fragmentation strategy <span class="references">[<a href="#ref-5">5</a>]</span> for Web archives and time series data that can be consumed by generic clients <span class="references">[<a href="#ref-6">6</a>]</span> is still a challenge.
In this paper we try to suggest a solution in which generic clients can still query over the data.</p>

    </section>

  <section id="implementation">
      <h2>Open Traffic Lights</h2>

      <p>The <a href="https://opentrafficlights.org">Open Traffic Lights</a> project started from the need to publish the traffic lights data in the <a href="https://www.imeccityofthings.be/nl/smart-zone">Smart Zone</a> in <a href="https://www.openstreetmap.org/#map=19/51.21205/4.39717">Antwerp</a> as Open Data. By using the <a href="">Resource Description Framework</a> (RDF) as a common model for representing knowledge, sensor observations are syntactically interoperable without necessarily having to support the same serialization. To enable this for traffic lights observations, an ontology is needed to describe the signal phase and timing and how traffic can move over the intersection.</p>

      <p>The map data describing the cross road and the signal phase and timing of the traffic control messages are available through a closed message broker (cfr. <a href="https://mosquitto.org/">MQTT</a>) with a frequency of 200 milliseconds which corresponds with the cycle time of the Traffic Control System of the intersection. In the <a href="#Specification">specification</a> section, we will describe how the number of data messages can be optimized for Open Data publishing and how historical information is still retrievable, in contrast to the broker interface.</p>

      <p>The ontology is based on two Flemish profiles: the MapData (MAP) and the Signal Phase and Timing (SPAT) profile. While MAP focuses on describing the topology of an intersection, SPAT describes the timing of the phase that a traffic light adheres to. Both profiles conform to European Telecommunications Standards Institute (ETSI) standards: <a href="https://www.etsi.org/deliver/etsi_ts/103300_103399/103301/01.01.01_60/ts_103301v010101p.pdf">ETSI 103 301</a>, <a href="https://www.etsi.org/deliver/etsi_ts/102800_102899/10289402/01.01.01_60/ts_10289402v010101p.pdf">ETSI TS102 894-2</a>, but are not publicly available.</p>

      <h3 id="ontology">Ontology</h3>

      <p>The Open Traffic Lights ontology is currently scoped to the data that is published by the Smart Zone. It is publicly available under an Open license: <a href="https://w3id.org/opentrafficlights#">https:/​/​w3id.org/opentrafficlights#</a> with prefix otl. <a href="#otl-ontology">Fig. 1</a> shows an overview of all the supported classes and properties that are defined.</p>

      <figure id="otl-ontology">
<center>
<img src="img/otl-ontology.svg" />
</center>
<figcaption>
          <p><span class="label">Fig. 1:</span> Classes and properties for describing MAP/SPAT related knowledge.</p>
        </figcaption>
</figure>

      <p>According to the driving direction of the road user, the lane <em>otl:Lane</em> that goes towards the conflict area of the intersection is described with a <em>otl:departureLane</em>, mutatis mutandis for the <em>otl:arrivalLane</em>. If a road user can travel from a departure lane towards an arrival lane, than this is called a <em>otl:Connection</em>.</p>

      <p>Travel is possible according to the <em>otl:SignalState</em> of the traffic light. Instead of referring to a traffic light, the SPAT profile coins the term <em>otl:SignalGroup</em> for the collection of traffic lights that continuously share a signal state. The latter is characterized by the following relations:</p>

      <ul>
        <li><strong>otl:signalPhase</strong>: points to a <a href="http://www.w3.org/2004/02/skos/core#Concept">SKOS concept</a> that represents the signal phase (stop and remain, movement allowed, unavailable…). As a result of this phase, the traffic light shows a color (green, orange flashing, etc.).</li>
        <li><strong>otl:minEndTime</strong>: the earliest time that the signal phase will change.</li>
        <li><strong>otl:maxEndTime</strong>: the maximum time that the signal group will remain in this signal phase.</li>
      </ul>

      <p>In the SPAT profile, the signal phase is described using a text field, e.g. “protected-Movement-Allowed”, which means that a road user can safely cross the intersection (a green light). To allow semantic interoperability with foreign countries, we made a taxonomy of possible signal phases which can be dereferenced by HTTP clients. The taxonomy is publicly available at <a href="https://w3id.org/opentrafficlights/thesauri/signalphase">https:/​/​w3id.org/opentrafficlights/thesauri/signalphase</a> under an Open license.</p>

      <p>In next section, we will describe a Web Application Programming Interface specification to publish traffic light observations for Open Data re-use.</p>

      <h3 id="specification">Specification</h3>

      <p>The specification contains three aspects:</p>

      <ul>
        <li>how every traffic light observation must be described,</li>
        <li>how the server interface exposes the live observations,</li>
        <li>how historical observations must be published</li>
      </ul>

      <p>A data publisher <em>must</em> publish observations with instantaneous graphs (iGraphs) <span class="references">[<a href="#ref-7">7</a>]</span> which represent a part of the traffic lights stream. This iGraph is a named graph that annotates one or more observations with a time stamp. A publisher <em>must</em> use <em>prov:generatedAtTime</em> to indicate the iGraph’s timestamp.
<a href="#example-observation">Fig. 2</a> shows an iGraph <em>https:/​/​opentrafficlights.org/spat/K648?time=2018-10-31T14:58:23.205Z</em> that contains the signal phase and timing of signal group <em>https:/​/​opentrafficlights.org/id/signalgroup/K648/6</em>.
The iGraph <em>should</em> be extended with the Sensor, Observation, Sample, and Actuator <span class="references">[<a href="#ref-8">8</a>]</span> (SOSA) ontology to semantically describe  an observation with its result, observed property etc.</p>

      <figure id="example-observation" class="">
<pre><code>&lt;https://opentrafficlights.org/id/signalgroup/K648/6&gt; a otl:SignalGroup.
</code><code>
</code><code>&lt;https://opentrafficlights.org/spat/K648?time=2018-10-31T14:58:23.205Z&gt; {
</code><code>    &lt;https://opentrafficlights.org/id/signalgroup/K648/6&gt; otl:signalState _:b0.
</code><code>    _:b0 a otl:SignalState;
</code><code>    otl:signalPhase &lt;https://w3id.org/opentrafficlights/thesauri/signalphase/0&gt;;
</code><code>    otl:minEndTime &quot;2018-10-31T14:58:37.605Z&quot;^^xsd:dateTime;
</code><code>    otl:maxEndTime &quot;2018-10-31T14:59:40.605Z&quot;^^xsd:dateTime.
</code><code>}
</code><code>&lt;https://opentrafficlights.org/spat/K648?time=2018-10-31T14:58:23.205Z&gt; 
</code><code>prov:generatedAtTime &quot;2019-02-14T17:43:54.297Z&quot;^^xsd:dateTime.
</code></pre>
<figcaption>
          <p><span class="label">Fig. 2:</span> Example of an iGraph <em>https:/​/​opentrafficlights.org/spat/K648?time=2018-10-31T14:58:23.205Z</em> which time annotates the state of a signal group. The state <em>_:b0</em> links to a phase (<em>https:/​/​w3id.org/opentrafficlights/thesauri/signalphase/0</em>) and is constrained with a time interval when it will end.</p>
        </figcaption>
</figure>

      <p>SPAT messages are sent every cycle time of a Traffic Control System. For the TCS in Antwerp, which has a cycle time every 200 ms, this corresponds with 5 iGraphs per second. For our use case whole second resolution suffices as we want to show a live count-down based on seconds. To lower the number of messages, a server <em>must</em> calculate the final outcome that an end-user will see and only publish if this changes. A new observation therefore is published whenever the minimum and maximum count-down (now - otl:minEndTime/otl:maxEndTime) in seconds or the otl:signalPhase changes. This results in the generation of one iGraph per second.</p>

      <p>There are two main strategies to publish live data: a publish/subscribe system where an iGraph is pushed to the client and HTTP polling where the client pulls a Linked Data Fragment repeatedly. 
The data publisher <em>must</em> offer HTTP polling and <em>should</em> offer pub/sub:</p>

      <ul>
        <li><strong>HTTP polling</strong>: a Linked Data Fragment which is a HTTP document containing one or more of the most recent iGraphs (e.g. <em>https:/​/​lodi.ilabt.imec.be/observer/rawdata/latest</em>). The <em>ETag</em> header <em>must</em> be added to indicate if the content has changed so HTTP caching is possible. This ETag can be generated by hashing (e.g. <a href="https://en.wikipedia.org/wiki/MD5">MD5</a>) the fragment or the latest iGraph.</li>
        <li><strong>publish/subscribe</strong>: every update corresponds with one iGraph like <a href="#example-observation">Fig. 2</a>. Preferably, HTTP-based <a href="https://developer.mozilla.org/en-US/docs/Web/API/Server-sent_events/Using_server-sent_events">Server-Sent Events</a> <em>should</em> be chosen.</li>
      </ul>

      <p>Historical data are published as Linked Data Fragments similar to the HTTP polling approach. <a href="#timeseries">Fig. 3</a> shows that all observations are ordered on a time axis: the Linked Data Fragments <strong>select</strong> data based on time ranges. The historic fragments <em>should</em> have a <em>cache-control</em> header set to <em>immutable</em> instead of using an ETag header. To allow a HTTP client to automatically discover older observations, a <em>hydra:previous</em> <strong>hypermedia</strong> link <em>must</em> be added using the <a href="https://www.hydra-cg.com/spec/latest/core/">Hydra</a> vocabulary. <em>Hydra:next</em> links <em>should</em> be added to allow time range retrieval in both directions. Also, the URL of the fragment is identified using the datetime of its first observation (e.g. https://opentrafficlights.org/spat/K648?time=2018-10-31T14:58:23.205Z).</p>

      <figure id="timeseries">
<center>
<img src="img/timeseries.svg" />
</center>
<figcaption>
          <p><span class="label">Fig. 3:</span> Timeseries are published as a paged collection of time sorted Linked Data Fragments.</p>
        </figcaption>
</figure>

      <p>Another feature that the interface <em>should</em> expose is <em><a href="https://www.hydra-cg.com/spec/latest/core/#templated-links">templated links</a></em>: a client should be able to construct a URL to retrieve the fragment that contains observations around a certain <em>time</em> parameter. <a href="#templated-link">Fig. 4</a> gives an example on how to express this <strong>hypermedia</strong> control. The server <em>must</em> redirect with a HTTP 302 status code to the fragment whose time range encapsulates <em>time</em>. When missing, the last fragment is returned.
With the templated links hypermedia control, Open Data reusers don’t have to crawl through all the fragments to fetch observations between a certain time range. Technically, templated links can replace pagination hypermedia links, but these links are necessary to lower the barrier for Open Data reusers such as regular Web crawlers <span class="references">[<a href="#ref-9">9</a>]</span>.</p>

      <figure id="templated-link" class="">
<pre><code>{
</code><code>	&quot;@id&quot;: &quot;«currentPageURL»&quot;,
</code><code>	&quot;@type&quot;: &quot;hydra:PartialCollectionView&quot;,
</code><code>	&quot;hydra:search&quot;: {
</code><code>		&quot;@type&quot;: &quot;hydra:IriTemplate&quot;,
</code><code>		&quot;hydra:template&quot;: &quot;&lt;&lt;baseUrl&gt;&gt;{?time}&quot;,
</code><code>		&quot;hydra:variableRepresentation&quot;: &quot;hydra:BasicRepresentation&quot;,
</code><code>		&quot;hydra:mapping&quot;: {
</code><code>			&quot;@type&quot;: &quot;hydra:IriTemplateMapping&quot;,
</code><code>			&quot;hydra:variable&quot;: &quot;time&quot;,
</code><code>			&quot;hydra:required&quot;: true
</code><code>		}
</code><code>	}
</code><code>}</code></pre>
<figcaption>
          <p><span class="label">Fig. 4:</span> A client can search for observations with a datetime as input parameter.</p>
        </figcaption>
</figure>

      <p>Finally, following <strong>metadata</strong> <em>must</em> be added to every fragment:</p>

      <ul>
        <li>the <strong>topology</strong> of the intersection (MAP): when available, the identifiers of the lanes of the local authorities should be reused. Otherwise, a lane should be defined using <em>otl:Lane</em> and use <em>http:/​/​purl.org/dc/terms/description</em> and <em>http:/​/​www.opengis.net/#geosparql/wktLiteral</em> so user agents can discover which travels are possible and on which signal group this depends (<em>otl:signalGroup</em>).</li>
        <li>an Open <strong>License</strong> (cfr. <a href="https://creativecommons.org/publicdomain/zero/1.0/">CC-0</a>, <a href="https://creativecommons.org/licenses/by/4.0/">CC-BY</a> etc.) is needed so the data complies under the <a href="http://opendefinition.org/">Open definition</a> and that reusers can check whether its intentions with the data are in line with the legal terms</li>
      </ul>

      <p>In next section, a method will be proposed for long-term preservation of these fragments.</p>

      <h3 id="preservation">Preservation strategy</h3>

      <p>With our specification, one observation with the average size of 7 kilobytes is published every second which generates more than a half gigabyte per day. It is important that inactive data is removed from the Open Data server to keep it light-weight, however, these should still be available for retrieval.</p>

      <p>As discussed in the background, tape is cost-efficient for large files. To preserve the published fragments, which are relatively small, on tape a different approach than disk storage is required. To circumvent this, Linked Data Fragments can be merged into one bigger Linked Data Fragment. This means that not the exact bytes are preserved, but only the RDF statements. On the one hand, when there are no blank nodes used in the statements, it is easy to check whether the merged fragment contains all the statements of the original fragments. On the other hand, when there are blank nodes, the merged fragment needs to rewrite the original blank nodes so these remain locally unique. For disk archives, there is no need to create bigger files, thus archiving can be done traditionally as explained in <a href="#background">section 2</a>.</p>

      <p>There are four aspects on synchronizing archives with our specification for traffic lights data (<a href="#timeseries-archive">Fig. 5</a>):</p>

      <ol>
        <li>archives need to harvest and optionally merge the Linked Data Fragments by following the provided hypermedia links in the Linked Open Data interface</li>
        <li>a hypermedia link is added to its previous harvested fragment</li>
        <li>an access URL is exposed by the archive that redirects to the latest harvested fragment</li>
        <li>the last published fragment of the Linked Open Data interface links to this access URL so the archive becomes an extension</li>
      </ol>

      <figure id="timeseries-archive">
<center>
<img src="img/timeseries-archive.svg" />
</center>
<figcaption>
          <p><span class="label">Fig. 5:</span> An archive can harvest the historical observations, optionally merge the Linked Data statements of multiple documents into one document, and link everything together through previous links.</p>
        </figcaption>
</figure>

    </section>

  <section id="demonstrator">
      <h2>Demonstrator</h2>

      <p>This application shows live traffic lights data of the intersection in <a href="https://www.openstreetmap.org/#map=19/51.21205/4.39717">Antwerp</a>. The source code can be found as a Codepen at <a href="https://codepen.io/brechtvdv/pen/BMQPNX/">https:/​/​codepen.io/brechtvdv/pen/BMQPNX/</a>. The dataset is freely available under an Open License at <a href="https://lodi.ilabt.imec.be/observer/rawdata/latest">https:/​/​lodi.ilabt.imec.be/observer/rawdata/latest</a>.</p>

      <p>First, a user can select a departure and arrival lane, indicating how the intersection will be crossed.
The departure and arrival lane describe an <em>otl:Connection</em> that can be selected from this  information.
A live count-down of the traffic light that is responsible for the chosen otl:Connection is shown.
The count-down is calculated with the minimum ending time of the state (current time - otl:minEndTime). The bigger then ‘&gt;’ sign indicates that the minimum and maximum end time are not equivalent, thus it is uncertain when the signal state ends. 
Note that this application uses HTTP polling every 100 milliseconds.</p>

      <p>Underneath the count-down, a historic ‘time-to-green’ is shown. The line chart represents how many seconds a user had to wait before getting a green light. The horizontal lines correspond with a waiting time of 0 seconds, and thus corresponds with a green light.</p>

      <figure id="codepen">
<center>
<img src="img/codepen.PNG" />
</center>
<figcaption>
          <p><span class="label">Fig. 6:</span> Visualisation of the live count-down and the amount of seconds to wait before having a green light. Notice that the horizontal lines correspond with green times.</p>
        </figcaption>
</figure>

      <p class="codepen" data-height="510" data-theme-id="0" data-default-tab="result" data-user="brechtvdv" data-slug-hash="BMQPNX" style="height: 510px; box-sizing: border-box; display: flex; align-items: center; justify-content: center; border: 2px solid black; margin: 1em 0; padding: 1em;" data-pen-title="Time to Green">
  <span>See the Pen <a href="https://codepen.io/brechtvdv/pen/BMQPNX/">
  Time to Green</a> by Brecht Van de Vyvere (<a href="https://codepen.io/brechtvdv">@brechtvdv</a>)
  on <a href="https://codepen.io">CodePen</a>.</span>
</p>
      <script async="" src="https://static.codepen.io/assets/embed/ei.js"></script>

    </section>

  <section id="conclusion">
      <h2>Conclusion</h2>

      <p>Cities can use the Open Traffic Lights <a href="#ontology">ontology</a> to publish their traffic lights data in a semantically interoperable way.
A TCS Open Data interface following the proposed <a href="#specification">specification</a> publishes every second one update. This lowers the barrier for Open Data re-users to create visualizations on top of it: they only have to retrieve the latest observation as fast as possible. Still, it is possible to create a more intelligent client that calculates a client-side count-down.
While this can improve the user experience, another information resource would have to be created to inform about priority updates (such as when an ambulance or police car influences the plan of the TCS).</p>

      <p>This early work is open to feedback from other cities that want to publish TCS data.
In earlier work, we proposed a Linked Times Series interface <span class="references">[<a href="#ref-5">5</a>]</span> as part of the publishing strategy for Flanders.
In this paper, archives are able to download the historic data of cities through its hypermedia links, and optimize storage for tape storage.
By linking the archived fragments in a similar way the archive is activated as an Open Data extension of the interface.
In future work, we will work on improving the discoverability of traffic lights datastreams by applying the Semantic Sensor Network <span class="references">[<a href="#ref-10">10</a>]</span> and the Vocabulary and Catalog for Linked Streams <span class="references">[<a href="#ref-11">11</a>]</span> ontologies. Also, we will explore how Memento TimeMaps compare to our time sorted Linked Data Fragments solution.
Furthermore, we will benchmark HTTP polling versus publish/subscribe to have a better understanding how the speed of sensor observations impacts the server infrastructure needed to guarantee and acceptable end-user latency for the live updates.</p>

    </section>

</main>

<footer>
  <section id="acknowledgements">
      <h2>Acknowledgements</h2>

      <p>The described research activities were funded by <a href="https://www.ugent.be/">Ghent University</a>, <a href="https://www.imec-int.com/en/home">imec</a>, Flanders Innovation &amp; Entrepreneurship (<a href="https://www.vlaio.be/nl/andere-doelgroepen/flanders-innovation-entrepreneurship">AIO</a>) and supports the <a href="https://www.imeccityofthings.be/nl/projecten/observer-verkeerslichten-met-een-eigen-brein">Observer</a> (imec City of Things) project.</p>
    </section>

<section id="references">
<h2>References</h2>
<dl class="references">
  <dt id="ref-1">[1]</dt>
  <dd resource="#eveline2019webarchiving" typeof="schema:Article">Vlassenroot, et al., Eveline: Web archives as a data resource for digital scholars. In: International Journal of Digital Humanities. Springer (2019).</dd>
  <dt id="ref-2">[2]</dt>
  <dd resource="#van2009memento" typeof="schema:Article">Van de Sompel, H., Nelson, M.L., Sanderson, R., Balakireva, L.L., Ainsworth, S., Shankar, H.: Memento: Time travel for the web. arXiv preprint arXiv:0911.1112. (2009).</dd>
  <dt id="ref-3">[3]</dt>
  <dd resource="https://dx.doi.org/10.1016/j.websem.2016.03.003" typeof="schema:Article">Verborgh, R., Vander Sande, M., Hartig, O., Van Herwegen, J., De Vocht, L., De Meester, B., Haesendonck, G., Colpaert, P.: Triple Pattern Fragments: a Low-cost Knowledge Graph Interface for the Web. Journal of Web Semantics. 37–38, (2016).</dd>
  <dt id="ref-4">[4]</dt>
  <dd resource="https://dx.doi.org/10.1007/978-3-030-00668-6_15" typeof="schema:Article">Taelman, R., Van Herwegen, J., Vander Sande, M., Verborgh, R.: Comunica: a Modular SPARQL Query Engine for the Web. In: Vrandečić, D., Bontcheva, K., Suárez-Figueroa, M.C., Presutti, V., Celino, I., Sabou, M., Kaffee, L.-A., and Simperl, E. (eds.) Proceedings of the 17th International Semantic Web Conference. pp. 239–255. Springer (2018).</dd>
  <dt id="ref-5">[5]</dt>
  <dd resource="#opendataflanders" typeof="schema:Article">Rojas Meléndez, J.A., Van de Vyvere, B., Gevaert, A., Taelman, R., Colpaert, P., Verborgh, R.: A Preliminary Open Data Publishing Strategy for Live Data in Flanders. In: WWW2018, the International World Wide Web Conference. pp. 1847–1853. ACM Press (2018).</dd>
  <dt id="ref-6">[6]</dt>
  <dd resource="#realtimequery" typeof="schema:Article">Taelman, R., Verborgh, R., Colpaert, P., Mannens, E.: Moving Real-Time Linked Data Query Evaluation to the Client. In: European Semantic Web Conference. pp. 3–7. Springer (2016).</dd>
  <dt id="ref-7">[7]</dt>
  <dd resource="#barbieri2010proposal" typeof="schema:Article">Barbieri, D.F., Valle, E.D.: A proposal for publishing data streams as linked data. In: Linked Data on the Web Workshop (2010).</dd>
  <dt id="ref-8">[8]</dt>
  <dd resource="#janowicz2018sosa" typeof="schema:Article">Janowicz, K., Haller, A., Cox, S.J.D., Le Phuoc, D., Lefrançois, M.: SOSA: A lightweight ontology for sensors, observations, samples, and actuators. Journal of Web Semantics. (2018).</dd>
  <dt id="ref-9">[9]</dt>
  <dd resource="#niu2012overview" typeof="schema:Article">Niu, J.: An overview of web archiving. D-Lib magazine. 18, (2012).</dd>
  <dt id="ref-10">[10]</dt>
  <dd resource="#compton2012ssn" typeof="schema:Article">Compton, M., Barnaghi, P., Bermudez, L., Garcı́A-Castro RaúL, Corcho, O., Cox, S., Graybeal, J., Hauswirth, M., Henson, C., Herzog, A., others: The SSN ontology of the W3C semantic sensor network incubator group. Web semantics: science, services and agents on the World Wide Web. 17, 25–32 (2012).</dd>
  <dt id="ref-11">[11]</dt>
  <dd resource="#tommasini2018vocals" typeof="schema:Article">Tommasini, R., Sedira, Y.A., Dell’Aglio, D., Balduini, M., Ali, M.I., Le Phuoc, D., Della Valle, E., Calbimonte, J.-P.: VoCaLS: Vocabulary and Catalog of Linked Streams. In: International Semantic Web Conference. pp. 256–272. Springer (2018).</dd>
</dl>
</section>
</footer>

</div>



</body>
</html>
